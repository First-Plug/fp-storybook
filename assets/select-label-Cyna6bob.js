import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{r as o,R as N}from"./index-D4lIrffr.js";import{c as V,a as j}from"./createLucideIcon-BNPQLea_.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k=V("chevron-down",E),C=o.createContext(void 0),w=()=>{const e=o.useContext(C);if(!e)throw new Error("useSelect debe ser usado dentro de un SelectProvider");return e};function _({value:e,options:s}){const[t,r]=o.useState(!1),[a,n]=o.useState(""),[d,u]=o.useState([...s]),p=()=>{const i=s.find(c=>c.value===e);return i?i.label:""};return o.useEffect(()=>{n(p())},[e,s]),{isOpen:t,setIsOpen:r,searchTerm:a,setSearchTerm:n,filteredOptions:d,setFilteredOptions:u,getSelectedLabel:p}}function I({ref:e,isOpen:s,onOutsideClick:t}){o.useEffect(()=>{const r=a=>{e.current&&!e.current.contains(a.target)&&t()};return s?document.addEventListener("mousedown",r):document.removeEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[s,e,t])}function L({children:e,value:s,onChange:t,disabled:r=!1,searchable:a=!1,color:n="grey",className:d=""}){const u=o.useRef(null),p=o.useMemo(()=>{const b=N.Children.toArray(e).filter(f=>N.isValidElement(f)&&typeof f.type!="string"&&f.type.displayName==="SelectOptions");return b[0]?N.Children.toArray(b[0].props.children).filter(f=>N.isValidElement(f)).map(f=>{const h=f,T=h.props.children,R=h.props.value;if(typeof R!="string")throw new Error("El value de cada opción debe ser un string.");if(typeof T!="string")throw new Error("El contenido de cada opción debe ser un string.");return{value:R,label:T}}):[]},[e]),{isOpen:i,setIsOpen:c,searchTerm:m,setSearchTerm:g,filteredOptions:y,setFilteredOptions:S,getSelectedLabel:v}=_({value:s,options:p});return I({ref:u,isOpen:i,onOutsideClick:()=>{c(!1),g(v())}}),l.jsx(C.Provider,{value:{isOpen:i,setIsOpen:c,selectedValue:s,onChange:t,disabled:r,searchable:a,searchTerm:m,setSearchTerm:g,options:p,filteredOptions:y,setFilteredOptions:S,getSelectedLabel:v,color:n},children:l.jsx("div",{className:`relative ${d}`,ref:u,children:e})})}L.__docgenInfo={description:"",methods:[],displayName:"Select",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},color:{required:!1,tsType:{name:"union",raw:'"error" | "success" | "grey"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"success"'},{name:"literal",value:'"grey"'}]},description:"",defaultValue:{value:'"grey"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};function F(){const e=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return{filterOptions:(t,r)=>{if(!r.trim())return[...t];const a=e(r.toLowerCase());return t.filter(n=>e(n.label.toLowerCase()).includes(a))},normalizeString:e}}function $({icon:e=l.jsx(k,{className:"h-4 w-4 text-gray-500"}),placeholder:s,name:t,className:r=""}){const{isOpen:a,setIsOpen:n,disabled:d,searchable:u,searchTerm:p,setSearchTerm:i,options:c,setFilteredOptions:m,getSelectedLabel:g,color:y}=w(),{filterOptions:S}=F(),v=o.useRef(null),O=()=>{d||(n(!a),a||(i(g()),m([...c])))},b=f=>{if(u){const h=f.target.value;i(h),m(S(c,h))}};return l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:v,type:"text",value:p,placeholder:s,readOnly:!u,onClick:O,onChange:b,className:j("w-full cursor-pointer pl-4 pr-12 rounded-md border text-black py-3 font-sans focus:outline-none",r,{"border-gray-300":y==="grey"||y==="normal","border-error":y==="error","border-success":y==="success"}),name:t,disabled:d,"aria-disabled":d,autoComplete:"off"}),l.jsx("div",{onClick:O,className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer",children:e})]})}$.__docgenInfo={description:"",methods:[],displayName:"SelectTrigger",props:{icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:'<ChevronDown className="h-4 w-4 text-gray-500" />',computed:!1}},placeholder:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const x=o.forwardRef(({value:e,children:s,className:t=""},r)=>{const{onChange:a,setIsOpen:n,setSearchTerm:d,disabled:u,options:p}=w(),i=p.find(g=>g.value===e),c=i?i.label:e,m=()=>{u||(a(e),d(c),n(!1))};return l.jsx("li",{ref:r,onClick:m,className:`py-2 px-4 cursor-pointer hover:bg-gray-100 ${t}`,children:s||c})});x.displayName="SelectOption";x.__docgenInfo={description:"",methods:[],displayName:"SelectOption",props:{value:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};function q({className:e="",emptyMessage:s="No options available"}){const{isOpen:t,filteredOptions:r}=w(),a=o.useRef(null);return l.jsx("ul",{ref:a,className:`absolute z-10 top-full left-0 w-full border border-gray-300 bg-white rounded-lg shadow-lg overflow-y-auto ${t?"block":"hidden"} ${e}`,children:r.length>0?l.jsx(l.Fragment,{children:r.map(n=>l.jsx(x,{value:n.value,children:n.label},n.value))}):l.jsx("li",{className:"py-2 px-4 text-gray-500 italic",children:s})})}q.displayName="SelectOptions";q.__docgenInfo={description:"",methods:[],displayName:"SelectOptions",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"No options available"',computed:!1}}}};const z=({children:e,className:s="",required:t=!1})=>l.jsxs("div",{className:`block text-dark-grey ml-2 font-sans ${s}`,children:[e,t&&"*"]});z.__docgenInfo={description:"",methods:[],displayName:"SelectLabel",props:{children:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{k as C,L as S,z as a,$ as b,q as c,x as d};
